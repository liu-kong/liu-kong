name: Update GitHub Stats
on:
  schedule:
    - cron: "0 0 * * *" # æ¯å¤©UTCæ—¶é—´0ç‚¹æ›´æ–°
  workflow_dispatch:    # æ‰‹åŠ¨è§¦å‘å¼€å…³

jobs:
  update-stats:
    runs-on: ubuntu-latest
    permissions:
      contents: write  # å¿…é¡»å¼€å¯å†™æƒé™

    steps:
      - name: Checkout Repository
        uses: actions/checkout@v4

      - name: Update Readme Stats
        uses: anuraghazra/github-readme-stats@main
        with:
          COMMIT_MSG: "ğŸ“Š Auto Update Metrics - $(date +'%Y-%m-%d')"
          # å¯é€‰é…ç½®ï¼š
          # STATS_CARD: "vertical"  # å¡ç‰‡å¸ƒå±€æ–¹å¼
          # LANG_CARD: "compact"    # è¯­è¨€å¡ç‰‡æ ·å¼

      - name: Push Changes
        run: |
          git config --global user.name "GitHub Action Bot"
          git config --global user.email "action@github.com"
          git add README.md
          git commit -m "${{ env.COMMIT_MSG }}"
          git push
